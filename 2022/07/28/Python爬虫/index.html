<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="Shinya"><meta name="copyright" content="Shinya"><meta name="generator" content="Hexo 6.3.0"><meta name="theme" content="hexo-theme-yun"><title>Pythonçˆ¬è™« | å¤¤å¤œçš„ä¸–ç•Œæ—…è¡Œæ‰‹è®°</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_j5gk85dg4pf.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.css"><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js"></script><script>document.addEventListener("DOMContentLoaded", () => {
  Yun.utils.renderKatex();
});</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="https://s2.loli.net/2022/07/21/E7qdHNpMJh13xli.png"><link rel="mask-icon" href="https://s2.loli.net/2022/07/21/E7qdHNpMJh13xli.png" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"shinya754.github.io","root":"/","title":"å¤¤å¤œçš„ä¸–ç•Œæ—…è¡Œæ‰‹è®°","version":"1.6.1","mode":"time","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["153, 153, 255","255, 255, 0","51, 255, 0"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="2022.07.28 å­¦ä¹ èµ„æ–™ï¼šhttps:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV12E411A7ZQ Pythonçˆ¬è™«åŸºç¡€éƒ¨åˆ†urllibåº“åˆ›å»ºè¯·æ±‚getæ–¹å¼&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä½¿ç”¨ urllib.request.urlopen() æ–¹æ³•ï¼ˆéœ€è¦å¼•åŒ…ï¼‰ï¼ŒæŒ‡å®šè¯·æ±‚é“¾æ¥ï¼ˆéœ€è¦åŠ http:&#x2F;&#x2F;ï¼‰å’Œè¶…æ—¶é˜ˆå€¼ç­‰ï¼Œ">
<meta property="og:type" content="article">
<meta property="og:title" content="Pythonçˆ¬è™«">
<meta property="og:url" content="https://shinya754.github.io/2022/07/28/Python%E7%88%AC%E8%99%AB/index.html">
<meta property="og:site_name" content="å¤¤å¤œçš„ä¸–ç•Œæ—…è¡Œæ‰‹è®°">
<meta property="og:description" content="2022.07.28 å­¦ä¹ èµ„æ–™ï¼šhttps:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV12E411A7ZQ Pythonçˆ¬è™«åŸºç¡€éƒ¨åˆ†urllibåº“åˆ›å»ºè¯·æ±‚getæ–¹å¼&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä½¿ç”¨ urllib.request.urlopen() æ–¹æ³•ï¼ˆéœ€è¦å¼•åŒ…ï¼‰ï¼ŒæŒ‡å®šè¯·æ±‚é“¾æ¥ï¼ˆéœ€è¦åŠ http:&#x2F;&#x2F;ï¼‰å’Œè¶…æ—¶é˜ˆå€¼ç­‰ï¼Œ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://shinya754.gitee.io/images/Image/2022/07/22-7-28-1.png">
<meta property="og:image" content="http://shinya754.gitee.io/images/Image/2022/07/22-7-28-2.png">
<meta property="og:image" content="http://shinya754.gitee.io/images/Image/2022/07/22-7-28-3.png">
<meta property="og:image" content="http://shinya754.gitee.io/images/Image/2022/07/22-7-28-4.png">
<meta property="article:published_time" content="2022-07-28T02:37:44.000Z">
<meta property="article:modified_time" content="2022-09-01T03:48:15.365Z">
<meta property="article:author" content="Shinya">
<meta property="article:tag" content="å­¦ä¹ ">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="çˆ¬è™«">
<meta property="article:tag" content="Web">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://shinya754.gitee.io/images/Image/2022/07/22-7-28-1.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Shinya"><img width="96" loading="lazy" src="https://s2.loli.net/2022/07/21/E7qdHNpMJh13xli.png" alt="Shinya"><span class="site-author-status" title="You'll see this world is wonderful.">ğŸ˜Š</span></a><div class="site-author-name"><a href="/about/">Shinya</a></div><span class="site-name">å¤¤å¤œçš„ä¸–ç•Œæ—…è¡Œæ‰‹è®°</span><sub class="site-subtitle">ä½ å¥½ï¼Œé™Œç”Ÿäººã€‚</sub><div class="site-desciption">æŸ211è½¯å·¥ä¸“ä¸šåœ¨è¯»</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">30</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">11</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">27</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="http://121.4.147.128:8888/profile?id=%E5%A4%8F%E8%89%B2%E5%8D%83%E7%BB%AB" title="TOSæˆ˜ç»©"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-open-arm-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Shinya754" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=114080703" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/yin-ye-14-16" title="çŸ¥ä¹" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/4950796" title="å“”å“©å“”å“©" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/Shinya433" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:shinya754@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Python%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86"><span class="toc-number">1.</span> <span class="toc-text">Pythonçˆ¬è™«åŸºç¡€éƒ¨åˆ†</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#urllib%E5%BA%93%E5%88%9B%E5%BB%BA%E8%AF%B7%E6%B1%82"><span class="toc-number">1.1.</span> <span class="toc-text">urllibåº“åˆ›å»ºè¯·æ±‚</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#get%E6%96%B9%E5%BC%8F"><span class="toc-number">1.1.1.</span> <span class="toc-text">getæ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#post%E6%96%B9%E5%BC%8F"><span class="toc-number">1.1.2.</span> <span class="toc-text">postæ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="toc-number">1.1.3.</span> <span class="toc-text">åˆ›å»ºè¯·æ±‚å¤´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%AF%B7%E6%B1%82%E7%8A%B6%E6%80%81%E5%92%8C%E5%93%8D%E5%BA%94%E5%A4%B4%E7%AD%89"><span class="toc-number">1.1.4.</span> <span class="toc-text">æŸ¥çœ‹è¯·æ±‚çŠ¶æ€å’Œå“åº”å¤´ç­‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Beautiful-Soup-4-%E5%BA%93%E6%8F%90%E5%8F%96%E5%93%8D%E5%BA%94%E5%86%85%E5%AE%B9"><span class="toc-number">1.2.</span> <span class="toc-text">Beautiful Soup 4 åº“æå–å“åº”å†…å®¹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tag"><span class="toc-number">1.2.1.</span> <span class="toc-text">Tag</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NavigableString"><span class="toc-number">1.2.2.</span> <span class="toc-text">NavigableString</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BeautifulSoup"><span class="toc-number">1.2.3.</span> <span class="toc-text">BeautifulSoup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Comment"><span class="toc-number">1.2.4.</span> <span class="toc-text">Comment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E6%A0%87%E7%AD%BE%E4%B8%8B%E7%9A%84%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7"><span class="toc-number">1.2.5.</span> <span class="toc-text">æå–æ ‡ç­¾ä¸‹çš„æ‰€æœ‰å±æ€§</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E7%9A%84%E6%90%9C%E7%B4%A2"><span class="toc-number">1.3.</span> <span class="toc-text">æ–‡æ¡£çš„æœç´¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E4%BB%A5%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E6%88%96%E8%80%85%E6%96%B9%E6%B3%95%E6%9F%A5%E6%89%BE"><span class="toc-number">1.3.1.</span> <span class="toc-text">ï¼ˆ1ï¼‰ä»¥å­—ç¬¦ä¸²åŒ¹é…æˆ–è€…æ–¹æ³•æŸ¥æ‰¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%882%EF%BC%89kwargs%EF%BC%9A%E6%9F%A5%E6%89%BE%E6%9F%90%E5%B1%9E%E6%80%A7%E4%B8%BA%E6%9F%90%E7%89%B9%E5%AE%9A%E5%80%BC%E7%9A%84%E6%A0%87%E7%AD%BE"><span class="toc-number">1.3.2.</span> <span class="toc-text">ï¼ˆ2ï¼‰kwargsï¼šæŸ¥æ‰¾æŸå±æ€§ä¸ºæŸç‰¹å®šå€¼çš„æ ‡ç­¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%883%EF%BC%89text%EF%BC%9A%E6%9F%A5%E6%89%BE%E7%AC%A6%E5%90%88%E6%9F%90%E8%A7%84%E5%88%99%E7%9A%84%E6%A0%87%E7%AD%BE%E4%B8%AD%E7%9A%84%E6%96%87%E6%9C%AC"><span class="toc-number">1.3.3.</span> <span class="toc-text">ï¼ˆ3ï¼‰textï¼šæŸ¥æ‰¾ç¬¦åˆæŸè§„åˆ™çš„æ ‡ç­¾ä¸­çš„æ–‡æœ¬</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%884%EF%BC%89limit%E5%8F%82%E6%95%B0%EF%BC%9A%E9%99%90%E5%AE%9A%E6%9F%A5%E6%89%BE%E5%87%BA%E7%9A%84%E6%9D%A1%E7%9B%AE%E6%95%B0%E9%87%8F"><span class="toc-number">1.3.4.</span> <span class="toc-text">ï¼ˆ4ï¼‰limitå‚æ•°ï¼šé™å®šæŸ¥æ‰¾å‡ºçš„æ¡ç›®æ•°é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%885%EF%BC%89css%E9%80%89%E6%8B%A9%E5%99%A8%EF%BC%9A%E4%BD%BF%E7%94%A8select-%E6%96%B9%E6%B3%95%E6%8C%89%E7%85%A7css%E9%80%89%E6%8B%A9%E5%99%A8%E8%AF%AD%E6%B3%95%E5%AE%9A%E4%BD%8D%E6%A0%87%E7%AD%BE"><span class="toc-number">1.3.5.</span> <span class="toc-text">ï¼ˆ5ï¼‰cssé€‰æ‹©å™¨ï¼šä½¿ç”¨select()æ–¹æ³•æŒ‰ç…§cssé€‰æ‹©å™¨è¯­æ³•å®šä½æ ‡ç­¾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E6%B5%8B%E8%AF%95%EF%BC%9A%E6%8F%90%E5%8F%96%E8%B1%86%E7%93%A3TOP250%E4%B8%AD%E7%94%B5%E5%BD%B1%E7%9A%84%E9%93%BE%E6%8E%A5%E3%80%81%E7%89%87%E5%90%8D%E7%AD%89%E4%BF%A1%E6%81%AF"><span class="toc-number">1.4.</span> <span class="toc-text">å®ä¾‹æµ‹è¯•ï¼šæå–è±†ç“£TOP250ä¸­ç”µå½±çš„é“¾æ¥ã€ç‰‡åç­‰ä¿¡æ¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%88%B0sqlite%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD"><span class="toc-number">1.5.</span> <span class="toc-text">å°†æ•°æ®å­˜å‚¨åˆ°sqliteæ•°æ®åº“ä¸­</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E7%88%AC%E5%8F%96%EF%BC%88%E4%BB%A5bilibili%E8%AF%84%E8%AE%BA%E5%8C%BA%E5%86%85%E5%AE%B9%E4%B8%BA%E4%BE%8B%EF%BC%89"><span class="toc-number">1.6.</span> <span class="toc-text">å¼‚æ­¥çˆ¬å–ï¼ˆä»¥bilibiliè¯„è®ºåŒºå†…å®¹ä¸ºä¾‹ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0-%E6%9F%A5%E7%9C%8B%E8%BF%94%E5%9B%9E%E7%9A%84JSON%E4%B8%B2%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.6.1.</span> <span class="toc-text">0.æŸ¥çœ‹è¿”å›çš„JSONä¸²æ ¼å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-AskUrl"><span class="toc-number">1.6.2.</span> <span class="toc-text">1.AskUrl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-AskJsonByPage%EF%BC%8C%E6%8C%89%E9%A1%B5%E5%8F%B7%E8%8E%B7%E5%8F%96JSON%E4%B8%B2"><span class="toc-number">1.6.3.</span> <span class="toc-text">2.AskJsonByPageï¼ŒæŒ‰é¡µå·è·å–JSONä¸²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%BE%AA%E7%8E%AF%E7%88%AC%E5%8F%96%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.6.4.</span> <span class="toc-text">3.å¾ªç¯çˆ¬å–é¡µé¢</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%86%85%E5%AE%B9"><span class="toc-number">2.</span> <span class="toc-text">å…¶ä»–å†…å®¹</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://shinya754.github.io/2022/07/28/Python%E7%88%AC%E8%99%AB/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Shinya"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="å¤¤å¤œçš„ä¸–ç•Œæ—…è¡Œæ‰‹è®°"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Pythonçˆ¬è™«</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2022-07-28 10:37:44" itemprop="dateCreated datePublished" datetime="2022-07-28T10:37:44+08:00">2022-07-28</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-09-01 11:48:15" itemprop="dateModified" datetime="2022-09-01T11:48:15+08:00">2022-09-01</time></div><span class="post-meta-divider">-</span><a href="#comment"><span class="post-meta-item-icon" title="è¯„è®ºæ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-chat-3-line"></use></svg> <span class="waline-comment-count" id="/2022/07/28/Python%E7%88%AC%E8%99%AB/"></span></span></a><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%AE%9E%E7%94%A8/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">å®ç”¨</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E5%AD%A6%E4%B9%A0/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">å­¦ä¹ </span></a><a class="tag-item" href="/tags/Python/" style="--text-color:#3776ab"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Python</span></a><a class="tag-item" href="/tags/%E7%88%AC%E8%99%AB/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">çˆ¬è™«</span></a><a class="tag-item" href="/tags/Web/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Web</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><p>2022.07.28</p>
<p>å­¦ä¹ èµ„æ–™ï¼š<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV12E411A7ZQ">https://www.bilibili.com/video/BV12E411A7ZQ</a></p>
<h1 id="Pythonçˆ¬è™«åŸºç¡€éƒ¨åˆ†"><a href="#Pythonçˆ¬è™«åŸºç¡€éƒ¨åˆ†" class="headerlink" title="Pythonçˆ¬è™«åŸºç¡€éƒ¨åˆ†"></a>Pythonçˆ¬è™«åŸºç¡€éƒ¨åˆ†</h1><h2 id="urllibåº“åˆ›å»ºè¯·æ±‚"><a href="#urllibåº“åˆ›å»ºè¯·æ±‚" class="headerlink" title="urllibåº“åˆ›å»ºè¯·æ±‚"></a>urllibåº“åˆ›å»ºè¯·æ±‚</h2><h3 id="getæ–¹å¼"><a href="#getæ–¹å¼" class="headerlink" title="getæ–¹å¼"></a>getæ–¹å¼</h3><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä½¿ç”¨ urllib.request.urlopen() æ–¹æ³•ï¼ˆéœ€è¦å¼•åŒ…ï¼‰ï¼ŒæŒ‡å®šè¯·æ±‚é“¾æ¥ï¼ˆéœ€è¦åŠ http:&#x2F;&#x2F;ï¼‰å’Œè¶…æ—¶é˜ˆå€¼ç­‰ï¼Œç„¶åä½¿ç”¨ read() æ–¹æ³•å°†å¾—åˆ°çš„è¿”å›ä¿¡æ¯æ‰“å°ï¼Œdecode()æ–¹æ³•ç”¨äºè¿›è¡Œæ ¼å¼åŒ–ã€‚<br>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æ­¤å¤„ä½¿ç”¨äº† try&#x2F;exceptè¿›è¡Œé”™è¯¯æ•è·ï¼Œä¸»è¦æ˜¯ä¸ºäº†ä¸åœ¨è¶…æ—¶çš„æƒ…å†µä¸‹æŠ¥ä¸€å¤§å †é”™ã€‚</p>
<span id="more"></span>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#ä½¿ç”¨getæ–¹å¼è¯·æ±‚</span>
<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request
<span class="token comment">#è¶…æ—¶å¤„ç†</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    timeout <span class="token operator">=</span> <span class="token number">0.01</span>
    response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token string">"http://www.baidu.com"</span><span class="token punctuation">,</span>timeout<span class="token operator">=</span>timeout<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#å¯¹è·å–åˆ°çš„ç½‘é¡µè¿›è¡Œutf-8è§£ç </span>
<span class="token keyword">except</span> urllib<span class="token punctuation">.</span>error<span class="token punctuation">.</span>URLError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ERROR! Time out of "</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"s!"</span><span class="token punctuation">)</span></code></pre>

<h3 id="postæ–¹å¼"><a href="#postæ–¹å¼" class="headerlink" title="postæ–¹å¼"></a>postæ–¹å¼</h3><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä½¿ç”¨postæ–¹å¼è¯·æ±‚æ—¶ï¼Œå¿…é¡»è¦é™„å¸¦ä¸€äº›è¡¨å•ä¿¡æ¯ï¼Œå¦åˆ™æ— æ³•è¯·æ±‚ã€‚æ­¤å¤„ä½¿ç”¨ urllib.parse.urlencode() æ–¹æ³•å¹¶å¥—ä¸€ä¸ª bytes æ–¹æ³•æ¥åˆ›å»ºé™„å¸¦çš„æ•°æ®ï¼Œé™„å¸¦çš„è¿™äº›ä¿¡æ¯ä¼šé™„å¸¦åœ¨è¯·æ±‚å¤´ä¸­ã€‚</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#ä½¿ç”¨postæ–¹å¼è¯·æ±‚ï¼Œpostä¸èƒ½ä¸ä¼ å‚æ•°ç›´æ¥è¯·æ±‚</span>
<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>parse
<span class="token comment">#bytes:åˆ›å»ºäºŒè¿›åˆ¶æ•°æ®ï¼Œ&#123;"a":"b"&#125;:é”®å€¼å¯¹ï¼Œå…¶ä¸­aä¸ºkeyï¼Œbä¸ºvalue</span>
data <span class="token operator">=</span> <span class="token builtin">bytes</span><span class="token punctuation">(</span>urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlencode<span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string">"hello"</span><span class="token punctuation">:</span><span class="token string">"world"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>
response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token string">"http://httpbin.org/post"</span><span class="token punctuation">,</span>data<span class="token operator">=</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#è§£ç å¯ä»¥é¡ºä¾¿è§£ç \nç­‰ï¼Œä¿è¯æ ¼å¼å¥½çœ‹</span></code></pre>

<h3 id="åˆ›å»ºè¯·æ±‚å¤´"><a href="#åˆ›å»ºè¯·æ±‚å¤´" class="headerlink" title="åˆ›å»ºè¯·æ±‚å¤´"></a>åˆ›å»ºè¯·æ±‚å¤´</h3><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å¯¹è¯·æ±‚å¤´è¿›è¡Œä¼ªè£…ä»¥é¿å¼€æŸäº›ç½‘ç«™çš„æ£€æµ‹<br>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä½¿ç”¨ urllib.request.Request() æ–¹æ³•æ¥ä½¿ç”¨åˆ›å»ºå¥½çš„è¯·æ±‚å¤´ï¼Œå…¶ä¸­å¯ä»¥æŒ‡å®šurlã€é™„å¸¦ä¿¡æ¯ã€è¯·æ±‚å¤´ã€è¯·æ±‚ç§ç±»ç­‰<br>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä¹‹åè¿˜æ˜¯å¾—ç”¨ urlopen æ‰“å¼€é“¾æ¥</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#åˆ›å»ºè¯·æ±‚å¤´</span>
<span class="token comment">#url="http://httpbin.org/post"</span>
url<span class="token operator">=</span><span class="token string">"http://www.douban.com"</span>
<span class="token comment">#è‹¥ä¸è®¾ç½®headerï¼Œä¼šè¢«è±†ç“£è®¤å‡ºæ¥å¹¶è¯´æˆ‘æ˜¯ä¸ªèŒ¶å£¶</span>
headers<span class="token operator">=</span><span class="token punctuation">&#123;</span>
<span class="token string">"user-agent"</span><span class="token punctuation">:</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.163 Safari/537.36"</span>
<span class="token punctuation">&#125;</span>
data<span class="token operator">=</span><span class="token builtin">bytes</span><span class="token punctuation">(</span>urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlencode<span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'eric'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>
req<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span>data<span class="token operator">=</span>data<span class="token punctuation">,</span>headers<span class="token operator">=</span>headers<span class="token punctuation">,</span>method<span class="token operator">=</span><span class="token string">"POST"</span><span class="token punctuation">)</span>
response<span class="token operator">=</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<h3 id="æŸ¥çœ‹è¯·æ±‚çŠ¶æ€å’Œå“åº”å¤´ç­‰"><a href="#æŸ¥çœ‹è¯·æ±‚çŠ¶æ€å’Œå“åº”å¤´ç­‰" class="headerlink" title="æŸ¥çœ‹è¯·æ±‚çŠ¶æ€å’Œå“åº”å¤´ç­‰"></a>æŸ¥çœ‹è¯·æ±‚çŠ¶æ€å’Œå“åº”å¤´ç­‰</h3><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#çœ‹çœ‹è¯·æ±‚çŠ¶æ€å’Œè¯·æ±‚å¤´</span>
response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token comment">#200</span>
<span class="token comment">#print(response.getheaders())#è·å–æ•´ä¸ªå“åº”å¤´</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>getheader<span class="token punctuation">(</span><span class="token string">"Date"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#æ³¨æ„headerså’Œheader</span></code></pre>

<h2 id="Beautiful-Soup-4-åº“æå–å“åº”å†…å®¹"><a href="#Beautiful-Soup-4-åº“æå–å“åº”å†…å®¹" class="headerlink" title="Beautiful Soup 4 åº“æå–å“åº”å†…å®¹"></a>Beautiful Soup 4 åº“æå–å“åº”å†…å®¹</h2><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

<span class="token comment">#åˆ›å»ºBSå®ä¾‹</span>
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"testPackages\douban.html"</span><span class="token punctuation">,</span><span class="token string">"rb"</span><span class="token punctuation">)</span><span class="token comment">#rbæ˜¯è¯»å­—èŠ‚æµ</span>
html<span class="token operator">=</span><span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token comment">#æ‰“å¼€htmlæ–‡ä»¶</span>
bs<span class="token operator">=</span>BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span><span class="token string">"html.parser"</span><span class="token punctuation">)</span><span class="token comment">#ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦è§£æçš„æ–‡ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è§£ææ–¹å¼</span></code></pre>

<h3 id="Tag"><a href="#Tag" class="headerlink" title="Tag"></a>Tag</h3><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æ ‡ç­¾åŠå…¶ä¸­çš„æ‰€æœ‰å†…å®¹ï¼ˆåŒ…æ‹¬å…¶ä¸­çš„ä½çº§æ ‡ç­¾ï¼‰ï¼Œä¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆçš„æ ‡ç­¾</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token comment">#å¦‚æœè¾“å‡ºbs.titleçš„ç±»å‹ï¼Œåˆ™æ˜¯Tag</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span>title<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token comment">#åªå–æ ‡ç­¾ä¸­çš„æ–‡å­—å†…å®¹</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''è¾“å‡ºï¼š
&lt;title>è±†ç“£ç”µå½± Top 250&lt;/title>
è±†ç“£ç”µå½± Top 250
&lt;class 'bs4.element.Tag'>
'''</span></code></pre>

<h3 id="NavigableString"><a href="#NavigableString" class="headerlink" title="NavigableString"></a>NavigableString</h3><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;è·å–æ ‡ç­¾é‡Œçš„å†…å®¹ï¼ˆå­—ç¬¦ä¸²ï¼‰</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span>a<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token comment">#</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span>a<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
ç™»å½•/æ³¨å†Œ
&lt;class 'bs4.element.NavigableString'>
'''</span></code></pre>

<h3 id="BeautifulSoup"><a href="#BeautifulSoup" class="headerlink" title="BeautifulSoup"></a>BeautifulSoup</h3><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;è·å–æ•´ä¸ªæ–‡æ¡£</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#print(bs.head.contents)#è¿”å›ä¸€ä¸ªå­—å…¸ç±»å‹ï¼Œå†…å®¹æ˜¯headä¸‹é¢çš„æ‰€æœ‰æ ‡ç­¾</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span>head<span class="token punctuation">.</span>contents<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#è·å–å­—å…¸ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆä¸‹æ ‡ä»0å¼€å§‹ï¼‰</span>
<span class="token triple-quoted-string string">'''
&lt;meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
ï¼ˆè¿™æ˜¯htmlä¸­çš„ç¬¬ä¸€ä¸ªæ ‡ç­¾ï¼Œä¸Šè¿°å­—å…¸ä¸­ç¬¬0ä¸ªå…ƒç´ æ˜¯'\n'ï¼‰
'''</span></code></pre>

<h3 id="Comment"><a href="#Comment" class="headerlink" title="Comment"></a>Comment</h3><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ç‰¹æ®Šçš„NavigableStringï¼Œä½†æ˜¯ä¼šè‡ªåŠ¨è¿‡æ»¤æ³¨é‡Šç¬¦å·</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span>a<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token comment">#å¦‚æœå…¶ä¸­æœ‰å½¢å¦‚&lt;!--abc-->çš„æ³¨é‡Šå†…å®¹ï¼Œå…¶ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºabc</span></code></pre>

<h3 id="æå–æ ‡ç­¾ä¸‹çš„æ‰€æœ‰å±æ€§"><a href="#æå–æ ‡ç­¾ä¸‹çš„æ‰€æœ‰å±æ€§" class="headerlink" title="æå–æ ‡ç­¾ä¸‹çš„æ‰€æœ‰å±æ€§"></a>æå–æ ‡ç­¾ä¸‹çš„æ‰€æœ‰å±æ€§</h3><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span>a<span class="token punctuation">.</span>attrs<span class="token punctuation">)</span><span class="token comment">#å­—å…¸ç±»å‹</span>
<span class="token triple-quoted-string string">'''
&#123;'href': 'https://accounts.douban.com/passport/login?source=movie', 'class': ['nav-login'], 'rel': ['nofollow']&#125;
'''</span></code></pre>

<h2 id="æ–‡æ¡£çš„æœç´¢"><a href="#æ–‡æ¡£çš„æœç´¢" class="headerlink" title="æ–‡æ¡£çš„æœç´¢"></a>æ–‡æ¡£çš„æœç´¢</h2><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä½¿ç”¨bs.find_all()æˆ–è€…bs.select()æ–¹æ³•å®šä½æŸäº›æ ‡ç­¾æˆ–è€…æ–‡å­—å†…å®¹ã€‚</p>
<h3 id="ï¼ˆ1ï¼‰ä»¥å­—ç¬¦ä¸²åŒ¹é…æˆ–è€…æ–¹æ³•æŸ¥æ‰¾"><a href="#ï¼ˆ1ï¼‰ä»¥å­—ç¬¦ä¸²åŒ¹é…æˆ–è€…æ–¹æ³•æŸ¥æ‰¾" class="headerlink" title="ï¼ˆ1ï¼‰ä»¥å­—ç¬¦ä¸²åŒ¹é…æˆ–è€…æ–¹æ³•æŸ¥æ‰¾"></a>ï¼ˆ1ï¼‰ä»¥å­—ç¬¦ä¸²åŒ¹é…æˆ–è€…æ–¹æ³•æŸ¥æ‰¾</h3><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ç†è§£ï¼šbs.find_allæ–¹æ³•é¦–å…ˆä¼šè·å–åˆ°æ–‡æ¡£ä¸­çš„æ‰€æœ‰æ ‡ç­¾ï¼Œç„¶åæ ¹æ®æ–¹æ³•ä¼ å…¥çš„å‚æ•°æ¥ç­›é€‰ç¬¦åˆè¦æ±‚çš„æ ‡ç­¾ï¼Œå½“å‚æ•°æ˜¯æ–¹æ³•åæ—¶ï¼Œå°†æ¯ä¸€ä¸ªæ ‡ç­¾ä¼ å…¥æ–¹æ³•ï¼Œæ ¹æ®è¿”å›å€¼åˆ¤æ–­è¿™ä¸ªæ ‡ç­¾æ˜¯å¦å¯ç”¨ã€‚</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#â‘ å­—ç¬¦ä¸²æŸ¥æ‰¾ï¼šè¿”å›ä¸ä¼ å…¥å­—ç¬¦ä¸²å®Œå…¨åŒ¹é…çš„å†…å®¹</span>
t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token comment">#è¿”å›æ‰€æœ‰spanæ ‡ç­¾ï¼ˆåŒ…æ‹¬å…¶å­æ ‡ç­¾ï¼‰</span>

<span class="token comment">#â‘¡æ­£åˆ™è¡¨è¾¾å¼ï¼šè°ƒç”¨æ­£åˆ™å¯¹è±¡çš„search()æ–¹æ³•æ¥åŒ¹é…å†…å®¹</span>
t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">"s"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#è¿”å›æ‰€æœ‰åŒ…å«sçš„æ ‡ç­¾ï¼ˆåŒ…æ‹¬å…¶å­æ ‡ç­¾ï¼‰</span>

<span class="token comment">#â‘¢å‡½æ•°ï¼šä¼ å…¥å‡½æ•°åï¼Œæ ¹æ®å‡½æ•°çš„å†…å®¹æ¥æŸ¥æ‰¾ï¼ˆç±»ä¼¼C++å’ŒC#ä¸­sortå‡½æ•°æ’åºæ—¶å¯ä»¥ä¼ å…¥è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ï¼‰</span>
<span class="token keyword">def</span> <span class="token function">value_is_exist</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> tag<span class="token punctuation">.</span>has_attr<span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">)</span>

t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>value_is_exist<span class="token punctuation">)</span><span class="token comment">#è¿”å›æ‰€æœ‰å…·æœ‰valueå±æ€§çš„æ ‡ç­¾</span></code></pre>
<h3 id="ï¼ˆ2ï¼‰kwargsï¼šæŸ¥æ‰¾æŸå±æ€§ä¸ºæŸç‰¹å®šå€¼çš„æ ‡ç­¾"><a href="#ï¼ˆ2ï¼‰kwargsï¼šæŸ¥æ‰¾æŸå±æ€§ä¸ºæŸç‰¹å®šå€¼çš„æ ‡ç­¾" class="headerlink" title="ï¼ˆ2ï¼‰kwargsï¼šæŸ¥æ‰¾æŸå±æ€§ä¸ºæŸç‰¹å®šå€¼çš„æ ‡ç­¾"></a>ï¼ˆ2ï¼‰kwargsï¼šæŸ¥æ‰¾æŸå±æ€§ä¸ºæŸç‰¹å®šå€¼çš„æ ‡ç­¾</h3><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å‚æ•°ä¸­æŒ‡å®šæƒ³è¦çš„æ ‡ç­¾ä¸­çš„å±æ€§å†…å®¹</p>
<pre class="language-python" data-language="python"><code class="language-python">t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"unwatched"</span><span class="token punctuation">)</span><span class="token comment">#æ‰¾å‡ºæ‰€æœ‰valueå±æ€§å€¼ä¸º"unwatched"çš„æ ‡ç­¾</span>
t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token comment">#æ‰¾åˆ°æ‰€æœ‰æ‹¥æœ‰classå±æ€§çš„æ ‡ç­¾ï¼ˆclasså…³é”®å­—ä¸ºäº†æ¶ˆé™¤æ­§ä¹‰ï¼Œéœ€è¦ä½¿ç”¨class_æ¥ä»£æ›¿ï¼‰</span></code></pre>
<h3 id="ï¼ˆ3ï¼‰textï¼šæŸ¥æ‰¾ç¬¦åˆæŸè§„åˆ™çš„æ ‡ç­¾ä¸­çš„æ–‡æœ¬"><a href="#ï¼ˆ3ï¼‰textï¼šæŸ¥æ‰¾ç¬¦åˆæŸè§„åˆ™çš„æ ‡ç­¾ä¸­çš„æ–‡æœ¬" class="headerlink" title="ï¼ˆ3ï¼‰textï¼šæŸ¥æ‰¾ç¬¦åˆæŸè§„åˆ™çš„æ ‡ç­¾ä¸­çš„æ–‡æœ¬"></a>ï¼ˆ3ï¼‰textï¼šæŸ¥æ‰¾ç¬¦åˆæŸè§„åˆ™çš„æ ‡ç­¾ä¸­çš„æ–‡æœ¬</h3><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä½¿ç”¨textæ—¶åªä¼šè¿”å›æ ‡ç­¾ä¸­çš„æ–‡æœ¬ï¼Œä¸ä¼šè¿”å›æ•´ä¸ªæ ‡ç­¾<br>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ç†è§£ï¼šä¸€ä¸ªæ ‡ç­¾çš„å†…å®¹ä¹Ÿè¢«è§†ä½œå±æ€§ï¼Œå…¶keyä¸ºtextï¼Œvalueä¸ºå…¶ä¸­çš„å†…å®¹</p>
<pre class="language-python" data-language="python"><code class="language-python">t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">"è±†ç“£"</span><span class="token punctuation">)</span><span class="token comment">#å®Œå…¨åŒ¹é…ï¼Œæ³¨æ„ä½¿ç”¨textæ—¶åªä¼šè¿”å›æ ‡ç­¾ä¸­çš„æ–‡æœ¬ï¼Œä¸ä¼šè¿”å›æ•´ä¸ªæ ‡ç­¾</span>
t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"è±†ç“£"</span><span class="token punctuation">,</span><span class="token string">"è®©å­å¼¹é£"</span><span class="token punctuation">,</span><span class="token string">"åé¡µ"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#åŒæ—¶æ‰¾å¤šä¸ªï¼Œè¿”å›é¡ºåºæ˜¯å…¶åœ¨æ–‡æ¡£ä¸­æœ¬æ¥çš„é¡ºåº</span>
t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>text <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">"\d"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰¾å‡ºæ‰€æœ‰åŒ…å«æ•°å­—çš„æ–‡æœ¬</span></code></pre>
<h3 id="ï¼ˆ4ï¼‰limitå‚æ•°ï¼šé™å®šæŸ¥æ‰¾å‡ºçš„æ¡ç›®æ•°é‡"><a href="#ï¼ˆ4ï¼‰limitå‚æ•°ï¼šé™å®šæŸ¥æ‰¾å‡ºçš„æ¡ç›®æ•°é‡" class="headerlink" title="ï¼ˆ4ï¼‰limitå‚æ•°ï¼šé™å®šæŸ¥æ‰¾å‡ºçš„æ¡ç›®æ•°é‡"></a>ï¼ˆ4ï¼‰limitå‚æ•°ï¼šé™å®šæŸ¥æ‰¾å‡ºçš„æ¡ç›®æ•°é‡</h3><pre class="language-python" data-language="python"><code class="language-python">t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"è±†ç“£"</span><span class="token punctuation">,</span><span class="token string">"è®©å­å¼¹é£"</span><span class="token punctuation">,</span><span class="token string">"åé¡µ"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>limit<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token comment">#æ€»ä¹‹å°±æ˜¯åœ¨åŸæ¥çš„åŸºç¡€ä¸Šæˆªæ–­äº†ï¼Œä¸ä¸Šé¢é‚£ä¸ªçš„ç»“æœç›¸æ¯”åªæœ‰å…¶å‰ä¸‰æ¡</span></code></pre>
<h3 id="ï¼ˆ5ï¼‰cssé€‰æ‹©å™¨ï¼šä½¿ç”¨select-æ–¹æ³•æŒ‰ç…§cssé€‰æ‹©å™¨è¯­æ³•å®šä½æ ‡ç­¾"><a href="#ï¼ˆ5ï¼‰cssé€‰æ‹©å™¨ï¼šä½¿ç”¨select-æ–¹æ³•æŒ‰ç…§cssé€‰æ‹©å™¨è¯­æ³•å®šä½æ ‡ç­¾" class="headerlink" title="ï¼ˆ5ï¼‰cssé€‰æ‹©å™¨ï¼šä½¿ç”¨select()æ–¹æ³•æŒ‰ç…§cssé€‰æ‹©å™¨è¯­æ³•å®šä½æ ‡ç­¾"></a>ï¼ˆ5ï¼‰cssé€‰æ‹©å™¨ï¼šä½¿ç”¨select()æ–¹æ³•æŒ‰ç…§cssé€‰æ‹©å™¨è¯­æ³•å®šä½æ ‡ç­¾</h3><pre class="language-python" data-language="python"><code class="language-python">t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">)</span><span class="token comment">#æ‰€æœ‰çš„title</span>
t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">".quote"</span><span class="token punctuation">)</span><span class="token comment">#æ‰€æœ‰classä¸ºquoteçš„æ ‡ç­¾</span>
t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">"#footer"</span><span class="token punctuation">)</span>
t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">"a[href='https://movie.douban.com/tv/']"</span><span class="token punctuation">)</span><span class="token comment">#æ‰¾aæ ‡ç­¾ä¸­hrefå±æ€§ä¸ºç‰¹å®šå€¼çš„</span>
t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">"head > title"</span><span class="token punctuation">)</span><span class="token comment">#æ‰¾headä¸‹é¢çš„title</span>
t_list <span class="token operator">=</span> bs<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">".rating45-t ~ .rating_num"</span><span class="token punctuation">)</span><span class="token comment">#æ‰¾å‰ä¸€æ ‡ç­¾åŒçº§çš„åä¸€æ ‡ç­¾</span></code></pre>

<h2 id="å®ä¾‹æµ‹è¯•ï¼šæå–è±†ç“£TOP250ä¸­ç”µå½±çš„é“¾æ¥ã€ç‰‡åç­‰ä¿¡æ¯"><a href="#å®ä¾‹æµ‹è¯•ï¼šæå–è±†ç“£TOP250ä¸­ç”µå½±çš„é“¾æ¥ã€ç‰‡åç­‰ä¿¡æ¯" class="headerlink" title="å®ä¾‹æµ‹è¯•ï¼šæå–è±†ç“£TOP250ä¸­ç”µå½±çš„é“¾æ¥ã€ç‰‡åç­‰ä¿¡æ¯"></a>å®ä¾‹æµ‹è¯•ï¼šæå–è±†ç“£TOP250ä¸­ç”µå½±çš„é“¾æ¥ã€ç‰‡åç­‰ä¿¡æ¯</h2><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä»¥ä¸‹æ˜¯ä¸€éƒ¨ç”µå½±çš„ä¿¡æ¯</p>
<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://movie.douban.com/subject/1292052/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è‚–ç”³å…‹çš„æ•‘èµ<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://img2.doubanio.com/view/photo/s_ratio_poster/public/p480747492.webp<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://movie.douban.com/subject/1292052/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>è‚–ç”³å…‹çš„æ•‘èµ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>/<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>The Shawshank Redemption<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>other<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>/<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>æœˆé»‘é«˜é£(æ¸¯)  /  åˆºæ¿€1995(å°)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>playable<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>[å¯æ’­æ”¾]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          å¯¼æ¼”: å¼—å…°å…‹Â·å¾·æ‹‰é‚¦ç‰¹ Frank Darabont<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>ä¸»æ¼”: è’‚å§†Â·ç½—å®¾æ–¯ Tim Robbins /...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
          1994<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>/<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>ç¾å›½<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>/<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>çŠ¯ç½ª å‰§æƒ…
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>star<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rating5-t<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rating_num<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>v:average<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>9.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>v:best<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>2649976äººè¯„ä»·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>quote<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inq<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å¸Œæœ›è®©äººè‡ªç”±ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åˆ†åˆ«å¯¹éœ€è¦çš„æ¯ä¸€ç§ç±»ä¿¡æ¯åˆ›å»ºå„è‡ªçš„æ­£åˆ™è¡¨è¾¾å¼</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#å½±ç‰‡è¯¦æƒ…é“¾æ¥</span>
linkPat <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r'&lt;a href="(.*?)">'</span><span class="token punctuation">)</span>
<span class="token comment">#æ³¨æ„ï¼šfindall()ä¸­ï¼Œå¦‚æœä¼ å…¥çš„æ­£åˆ™è¡¨è¾¾å¼å«æœ‰æ‹¬å·ï¼Œåˆ™åªä¼šè¿”å›æ‹¬å·å†…çš„å†…å®¹</span>


<span class="token keyword">def</span> <span class="token function">getData</span><span class="token punctuation">(</span>baseurl<span class="token punctuation">)</span><span class="token punctuation">:</span>
    datalist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment">#å…±10é¡µ</span>
        url<span class="token operator">=</span>baseurl<span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token operator">*</span><span class="token number">25</span><span class="token punctuation">)</span>
        html <span class="token operator">=</span> askUrl<span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token comment">#è®¿é—®é“¾æ¥è·å–åˆ°ç›®æ ‡htmlæ–‡ä»¶</span>

    <span class="token comment">#2.é€ä¸€è§£ææ•°æ®</span>
        bs <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span><span class="token string">"html.parser"</span><span class="token punctuation">)</span>
        <span class="token builtin">list</span> <span class="token operator">=</span> bs<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">,</span>class_<span class="token operator">=</span><span class="token string">"item"</span><span class="token punctuation">)</span><span class="token comment">#è§£æå‘ç°ï¼Œæ¯ä¸ªç”µå½±çš„ç›¸å…³ä¿¡æ¯éƒ½è¢«classä¸ºitemçš„divåŒ…è£¹</span>
        <span class="token keyword">for</span> item <span class="token keyword">in</span> <span class="token builtin">list</span><span class="token punctuation">:</span>
            <span class="token comment">#print(item) #æµ‹è¯•ï¼šè·å–å…¨éƒ¨ç”µå½±çš„å…¨éƒ¨ä¿¡æ¯</span>
            data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
            item <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token comment">#re.findallè¦æ±‚ä¼ å…¥å­—ç¬¦ä¸²</span>

            <span class="token comment">#å½±ç‰‡è¯¦æƒ…çš„é“¾æ¥</span>
            link <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>linkPat <span class="token punctuation">,</span>item<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token comment">#å¦‚æœä¼šè·å–åˆ°å¤šä¸ªï¼Œåˆ™å¯ä»¥åªå–ç¬¬ä¸€ä¸ªï¼Œå¦åˆ™ä¼šå¾—åˆ°ä¸€ä¸ªåˆ—è¡¨</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span>

    <span class="token keyword">return</span> datalist</code></pre>
<p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;è§£æå®Œæˆåï¼Œå°†å…¶å­˜å‚¨åˆ°excelè¡¨æ ¼ä¸­</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> xlwt
<span class="token keyword">def</span> <span class="token function">SaveData</span><span class="token punctuation">(</span>datalist<span class="token punctuation">,</span> savePath<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"saving..."</span><span class="token punctuation">)</span>
    <span class="token comment"># å…ˆåˆ›å»ºå¥½è¡¨æ ¼</span>
    workBook <span class="token operator">=</span> xlwt<span class="token punctuation">.</span>Workbook<span class="token punctuation">(</span>encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>  <span class="token comment"># åˆ›å»ºWorkBookå¯¹è±¡</span>
    workSheet <span class="token operator">=</span> workBook<span class="token punctuation">.</span>add_sheet<span class="token punctuation">(</span><span class="token string">'è±†ç“£ç”µå½±'</span><span class="token punctuation">)</span>  <span class="token comment"># æ·»åŠ å·¥ä½œè¡¨</span>

    <span class="token comment"># æ·»åŠ è¡¨å¤´</span>
    colName <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"å½±ç‰‡è¯¦æƒ…é“¾æ¥"</span><span class="token punctuation">,</span> <span class="token string">"å½±ç‰‡å›¾ç‰‡é“¾æ¥"</span><span class="token punctuation">,</span> <span class="token string">"ä¸­æ–‡ç‰‡å"</span><span class="token punctuation">,</span> <span class="token string">"å¤–æ–‡ç‰‡å"</span><span class="token punctuation">,</span> <span class="token string">"åˆ†æ•°"</span><span class="token punctuation">,</span> <span class="token string">"è¯„ä»·äººæ•°"</span><span class="token punctuation">,</span> <span class="token string">"ä¸€å¥è¯æ¦‚æ‹¬"</span><span class="token punctuation">,</span> <span class="token string">"å…¶ä»–ä¿¡æ¯"</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        workSheet<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> colName<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># éšæ‚£ï¼šæœ€å¥½å°†8ä¿®æ”¹ä¸ºlen(colName)</span>
            workSheet<span class="token punctuation">.</span>write<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> datalist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ç¬¬%dä¸ªå†™å…¥å®Œæˆ"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    workBook<span class="token punctuation">.</span>save<span class="token punctuation">(</span>savePath<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">None</span></code></pre>

<h2 id="å°†æ•°æ®å­˜å‚¨åˆ°sqliteæ•°æ®åº“ä¸­"><a href="#å°†æ•°æ®å­˜å‚¨åˆ°sqliteæ•°æ®åº“ä¸­" class="headerlink" title="å°†æ•°æ®å­˜å‚¨åˆ°sqliteæ•°æ®åº“ä¸­"></a>å°†æ•°æ®å­˜å‚¨åˆ°sqliteæ•°æ®åº“ä¸­</h2><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æ³¨æ„ï¼šåœ¨åˆ›å»ºsqlè¯­å¥æ—¶ï¼Œå­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®å¿…é¡»åŠ åŒå¼•å·ï¼Œæ•°å€¼ç±»å‹å¯åŠ å¯ä¸åŠ ã€‚</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">SaveData2DB</span><span class="token punctuation">(</span>datalist<span class="token punctuation">,</span> savePath<span class="token punctuation">)</span><span class="token punctuation">:</span>
    Init_DB<span class="token punctuation">(</span>savePath<span class="token operator">=</span>savePath<span class="token punctuation">)</span>

    conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>savePath<span class="token punctuation">)</span>
    cur <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> data <span class="token keyword">in</span> datalist<span class="token punctuation">:</span>
        <span class="token keyword">for</span> index <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            data<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'"'</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'"'</span>
        sql <span class="token operator">=</span> <span class="token triple-quoted-string string">'''
            insert into tblMovie250 (link,image,cTitle,oTitle,rating,judgeNum,generalization,info) 
            values (%s)
        '''</span> <span class="token operator">%</span> <span class="token string">","</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql<span class="token punctuation">)</span>
        conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>

    cur<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">None</span></code></pre>

<h2 id="å¼‚æ­¥çˆ¬å–ï¼ˆä»¥bilibiliè¯„è®ºåŒºå†…å®¹ä¸ºä¾‹ï¼‰"><a href="#å¼‚æ­¥çˆ¬å–ï¼ˆä»¥bilibiliè¯„è®ºåŒºå†…å®¹ä¸ºä¾‹ï¼‰" class="headerlink" title="å¼‚æ­¥çˆ¬å–ï¼ˆä»¥bilibiliè¯„è®ºåŒºå†…å®¹ä¸ºä¾‹ï¼‰"></a>å¼‚æ­¥çˆ¬å–ï¼ˆä»¥bilibiliè¯„è®ºåŒºå†…å®¹ä¸ºä¾‹ï¼‰</h2><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æŸäº›ç½‘ç«™çš„æ•°æ®å¹¶ä¸ä¼šä¸€æ¬¡æ€§åŠ è½½å®Œï¼ˆå–œæ¬¢æˆ‘AJAXå—ï¼‰ï¼Œè€Œæ˜¯åœ¨ç”¨æˆ·åšå‡ºæŸäº›ç‰¹å®šæ“ä½œåæ‰ä¼šåŠ è½½ï¼ˆå¦‚bç«™è¯„è®ºåŒºï¼Œæ»šåŠ¨æ¡æ»‘åˆ°åº•æ—¶æ‰ä¼šç»§ç»­åŠ è½½ä¸‹é¢çš„è¯„è®ºï¼‰ã€‚è¿™ç§å¼‚æ­¥åŠ è½½çš„å®ç°é€»è¾‘æ˜¯åœ¨è§¦å‘éœ€è¦åŠ è½½çš„è¡Œä¸ºæ—¶ï¼Œæµè§ˆå™¨å‘AJAXå‘é€è¯·æ±‚ï¼Œå¹¶ç”±AJAXä»æœåŠ¡å™¨å¤„è·å–åˆ°æ–°åŠ è½½çš„å†…å®¹ï¼ˆJSONä¸²ï¼‰ã€‚åœ¨å¼‚æ­¥çˆ¬å–ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ†æAJAXå‘æœåŠ¡å™¨è·å–æ–°å†…å®¹æ—¶çš„è¯·æ±‚é“¾æ¥ï¼Œç„¶åä½¿ç”¨urllibæ¥è¯·æ±‚è¿™ä¸ªé“¾æ¥å³å¯ã€‚</p>
<h3 id="0-æŸ¥çœ‹è¿”å›çš„JSONä¸²æ ¼å¼"><a href="#0-æŸ¥çœ‹è¿”å›çš„JSONä¸²æ ¼å¼" class="headerlink" title="0.æŸ¥çœ‹è¿”å›çš„JSONä¸²æ ¼å¼"></a>0.æŸ¥çœ‹è¿”å›çš„JSONä¸²æ ¼å¼</h3><p><img src="http://shinya754.gitee.io/images/Image/2022/07/22-7-28-1.png" alt="json-1" loading="lazy"><br><img src="http://shinya754.gitee.io/images/Image/2022/07/22-7-28-2.png" alt="json-2" loading="lazy"></p>
<h3 id="1-AskUrl"><a href="#1-AskUrl" class="headerlink" title="1.AskUrl"></a>1.AskUrl</h3><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">AskUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    æ ¹æ®è®¿é—®é“¾æ¥è·å–å¯¹åº”çš„htmlé¡µé¢
    return: htmlé¡µé¢
    '''</span>
    <span class="token comment"># è‹¥ä¸è®¾ç½®headerï¼Œä¼šè¢«è±†ç“£è®¤å‡ºæ¥å¹¶è¯´æˆ‘æ˜¯ä¸ªèŒ¶å£¶</span>
    head <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"user-agent"</span><span class="token punctuation">:</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.163 Safari/537.36"</span>
    <span class="token punctuation">&#125;</span>
    req <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>head<span class="token punctuation">)</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span>
        html <span class="token operator">=</span> response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>
        <span class="token comment"># print(html)</span>
    <span class="token keyword">except</span> urllib<span class="token punctuation">.</span>error<span class="token punctuation">.</span>URLError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token string">"code"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>code<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token string">"reason"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>reason<span class="token punctuation">)</span>

    <span class="token keyword">return</span> html</code></pre>

<h3 id="2-AskJsonByPageï¼ŒæŒ‰é¡µå·è·å–JSONä¸²"><a href="#2-AskJsonByPageï¼ŒæŒ‰é¡µå·è·å–JSONä¸²" class="headerlink" title="2.AskJsonByPageï¼ŒæŒ‰é¡µå·è·å–JSONä¸²"></a>2.AskJsonByPageï¼ŒæŒ‰é¡µå·è·å–JSONä¸²</h3><p><img src="http://shinya754.gitee.io/images/Image/2022/07/22-7-28-3.png" alt="æ— è¯„è®ºé¡µé¢" loading="lazy">å°†é¡µæ•°è®¾ç½®ä¸º1000å¯ä»¥çœ‹åˆ°èƒ½å¤Ÿè·å–ä¸€ä¸ªJSONä¸²ï¼Œä½†æ˜¯æ²¡æœ‰è¯„è®ºå†…å®¹ï¼Œå¯ä»¥å°†æ­¤ä½œä¸ºå¾ªç¯ç»“æŸæ ‡å¿—ã€‚</p>
<pre class="language-python" data-language="python"><code class="language-python">baseUrlFront <span class="token operator">=</span> <span class="token string">"https://api.bilibili.com/x/v2/reply/main?csrf=d2f1171678cefe4350b2a43a023f6a4c&amp;mode=3&amp;next="</span>
baseUrlAfter <span class="token operator">=</span> <span class="token string">"&amp;oid=800272415&amp;plat=1&amp;type=1"</span>
<span class="token keyword">def</span> <span class="token function">AskJsonByPage</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    æ ¹æ®é¡µå·æ¥è®¿é—®è¯„è®ºåŒºï¼Œé¡µå·ä»1å¼€å§‹
    return: è·å–åˆ°çš„JSONä¸²
    '''</span>
    url <span class="token operator">=</span> baseUrlFront<span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token operator">+</span>baseUrlAfter
    <span class="token comment"># åˆ†æJSONä¸²å¾—çŸ¥ï¼Œreplies:"null"ä»£è¡¨æ— å†…å®¹</span>
    resp <span class="token operator">=</span> AskUrl<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">)</span>

    jsonStr <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>resp<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"replies"</span><span class="token punctuation">]</span> <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">"Empty"</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        commentLlist <span class="token operator">=</span> jsonStr<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"replies"</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> item <span class="token keyword">in</span> commentLlist<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">"member"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"uname"</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> item<span class="token punctuation">[</span><span class="token string">"content"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"message"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token string">"Success"</span></code></pre>

<h3 id="3-å¾ªç¯çˆ¬å–é¡µé¢"><a href="#3-å¾ªç¯çˆ¬å–é¡µé¢" class="headerlink" title="3.å¾ªç¯çˆ¬å–é¡µé¢"></a>3.å¾ªç¯çˆ¬å–é¡µé¢</h3><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æ³¨æ„ï¼šå¦‚æœçŸ­æ—¶é—´è¯·æ±‚æ¬¡æ•°è¿‡å¤šï¼Œå³ä½¿ä¼ªè£…äº†è¯·æ±‚å¤´ä¹Ÿå¯èƒ½ä¼šè¢«ban IPï¼Œä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯æ¯çˆ¬ä¸€é¡µåœä¸€ç§’ã€‚<br>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æ­¤å¤„è®¾ç½®å¾ªç¯ä¸Šé™ä¸º1000ï¼Œé˜²æ­¢æ­»å¾ªç¯ï¼Œå¦‚æœæŸè§†é¢‘è¯„è®ºé¡µæ•°å¤§äº1000åˆ™å†è°ƒæ•´å³å¯ã€‚</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    index <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>AskJsonByPage<span class="token punctuation">(</span>index<span class="token operator">=</span>index<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">"Empty"</span> <span class="token keyword">and</span> index <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        index <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token comment"># AskJsonByPage(1000)</span>
    <span class="token keyword">return</span> <span class="token boolean">None</span></code></pre>
<p><img src="http://shinya754.gitee.io/images/Image/2022/07/22-7-28-4.png" alt="çˆ¬å–ç»“æœ" loading="lazy"></p>
<h1 id="å…¶ä»–å†…å®¹"><a href="#å…¶ä»–å†…å®¹" class="headerlink" title="å…¶ä»–å†…å®¹"></a>å…¶ä»–å†…å®¹</h1><p>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åŒ…æ‹¬WordCloudè¯äº‘ã€Flaskåç«¯æœåŠ¡ç»„ä»¶ã€Sqliteæ•°æ®åº“ç­‰ï¼Œå†™åœ¨<a target="_blank" rel="noopener" href="https://shimo.im/docs/rp3OV2V2eZiRz2Am/">çŸ³å¢¨æ–‡æ¡£</a>äº†</p>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="æ‰“èµ" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">å¸Œæœ›æˆ‘æä¾›çš„å¸®åŠ©èƒ½å¤Ÿè¡¥å¿ä½ åœ¨è¿™é‡ŒèŠ±è´¹çš„æ—¶é—´ã€‚</div><div id="qr" style="display:none;"><div style="display:inline-block"></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>Shinya</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://shinya754.github.io/2022/07/28/Python%E7%88%AC%E8%99%AB/" title="Pythonçˆ¬è™«">https://shinya754.github.io/2022/07/28/Python%E7%88%AC%E8%99%AB/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/09/01/AJAX/" rel="prev" title="AJAX"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">AJAX</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/02/22/%E5%8A%9B%E6%89%A31994-%E5%A5%BD%E5%AD%90%E9%9B%86%E7%9A%84%E6%95%B0%E7%9B%AE/" rel="next" title="åŠ›æ‰£1994.å¥½å­é›†çš„æ•°ç›®"><span class="post-nav-text">åŠ›æ‰£1994.å¥½å­é›†çš„æ•°ç›®</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è¿™é‡Œæ˜¯å¤§å›¾ä¹¦é¦†çš„ç•™è¨€æ¿ï¼Œè¯·å‹å–„åœ°å‘è¨€ã€‚</span><br></div><div id="waline"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js", () => {
  const walineConfig = {"enable":true,"serverURL":"https://waline-test-bt6oy7oc4-shinya754.vercel.app","comment":true,"emoji":["https://fastly.jsdelivr.net/gh/walinejs/emojis@latest/bilibili/","https://fastly.jsdelivr.net/gh/walinejs/emojis@latest/weibo/","https://fastly.jsdelivr.net/gh/walinejs/emojis@latest/qq/"],"locale":{"placeholder":"å¡«å†™é‚®ç®±ï¼Œå¯ä»¥æ”¶åˆ°å›å¤é€šçŸ¥å“¦ï½"},"requiredMeta":["nick"],"el":"#waline","lang":"zh-CN"}
  walineConfig.path = "/2022/07/28/Python%E7%88%AC%E8%99%AB/"
  new Waline(walineConfig)
}, window.Waline);</script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 â€“ 2023 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> Shinya</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v6.3.0</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.1</span></div><div class="live_time"><span>å¤§å›¾ä¹¦é¦†å·²ç»è§‚å¯Ÿå¹¶è®°å½•è¿™ä¸ªä¸–ç•Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-03-23T17:10:02');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>